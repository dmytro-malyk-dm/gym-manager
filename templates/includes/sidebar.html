<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 bg-white" id="sidenav-main">
  <div class="sidenav-header">
    <a class="navbar-brand m-0" href="{% url 'gym:index' %}">
      <span class="ms-1 font-weight-bold">Gym Manager</span>
    </a>
  </div>

  <hr class="horizontal dark mt-0">

  <div class="collapse navbar-collapse w-auto" id="sidenav-collapse-main">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'index' %}active{% endif %}"
           href="{% url 'gym:index' %}">
          <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-home text-primary text-sm opacity-10"></i>
          </div>
          <span class="nav-link-text ms-1">Dashboard</span>
        </a>
      </li>
      {% if user.is_authenticated %}

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Account</h6>
        </li>
        <li class="nav-item">
          <div class="nav-link">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="fas fa-user text-dark text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">
              <strong>{{ user.get_full_name|default:user.username }}</strong>
              <br>
              <small class="text-xs">{{ user.get_role_display }}</small>
            </span>
          </div>
        </li>

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Pages</h6>
        </li>

        <li class="nav-item">
          <a class="nav-link {% if 'trainer' in request.path %}active{% endif %}"
             href="{% url 'gym:trainer-list' %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="fas fa-dumbbell text-warning text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Trainers</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link {% if 'workout' in request.path %}active{% endif %}"
             href="{% url 'gym:workout-list' %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="fas fa-running text-success text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Workouts</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link {% if 'schedule' in request.path %}active{% endif %}"
             href="{% url 'gym:schedule-list' %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="fas fa-calendar text-info text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Schedule</span>
          </a>
        </li>

        {% if user.role == "client" %}
          <li class="nav-item">
            <a class="nav-link {% if 'my-bookings' in request.path %}active{% endif %}"
               href="{% url 'gym:my-bookings' %}">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                <i class="fas fa-clipboard-list text-primary text-sm opacity-10"></i>
              </div>
              <span class="nav-link-text ms-1">My Bookings</span>
            </a>
          </li>
        {% endif %}

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Account</h6>
        </li>

        <li class="nav-item">
          <form method="post" action="{% url 'logout' %}" id="logout-form">
            {% csrf_token %}
            <a class="nav-link" href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();">
              <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
                <i class="fas fa-sign-out-alt text-danger text-sm opacity-10"></i>
              </div>
              <span class="nav-link-text ms-1">Logout</span>
            </a>
          </form>
        </li>

      {% else %}

        <li class="nav-item">
          <a class="nav-link" href="{% url 'login' %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="fas fa-sign-in-alt text-primary text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Login</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'gym:register' %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="fas fa-user-plus text-success text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Register</span>
          </a>
        </li>

      {% endif %}

    </ul>
  </div>

</aside>
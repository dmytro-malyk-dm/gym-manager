<!DOCTYPE "html">
<html lang="en">
<head>
  {% block title %}
    <title>Gym</title>
  {% endblock %}

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />

  <link href="https://demos.creative-tim.com/soft-ui-dashboard/assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="https://demos.creative-tim.com/soft-ui-dashboard/assets/css/nucleo-svg.css" rel="stylesheet" />

  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  <link href="https://demos.creative-tim.com/soft-ui-dashboard/assets/css/soft-ui-dashboard.min.css?v=1.0.7" rel="stylesheet" />

  {% load static %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  {% block extra_css %}{% endblock %}
</head>
<body class="g-sidenav-show bg-gray-100">
  <!-- Overlay for mobile sidebar backdrop -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  {% include "includes/sidebar.html" %}

  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg">

    {% include "includes/navbar.html" %}

    <div class="container-fluid py-4">

      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            <span class="alert-icon"><i class="ni ni-bell-55"></i></span>
            <span class="alert-text">{{ message }}</span>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        {% endfor %}
      {% endif %}

      {% block content %}
      {% endblock %}


      {% include "includes/footer.html" %}
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://demos.creative-tim.com/soft-ui-dashboard/assets/js/soft-ui-dashboard.min.js?v=1.0.7"></script>

  {% block extra_js %}{% endblock %}
  <script>
    // Sidebar toggle functionality for mobile
    document.addEventListener('DOMContentLoaded', function() {
      const sidebar = document.getElementById('sidenav-main');
      const overlay = document.getElementById('sidebarOverlay');
      const toggleBtn = document.getElementById('sidebarToggle');

      // Toggle sidebar when hamburger button is clicked
      if (toggleBtn) {
        toggleBtn.addEventListener('click', function(e) {
          e.preventDefault();
          sidebar.classList.toggle('show');
          overlay.classList.toggle('show');
        });
      }

      // Close sidebar when clicking on overlay
      if (overlay) {
        overlay.addEventListener('click', function() {
          sidebar.classList.remove('show');
          overlay.classList.remove('show');
        });
      }

      // Close sidebar when clicking on a link (mobile only)
      if (window.innerWidth < 1200) {
        const sidebarLinks = sidebar.querySelectorAll('a.nav-link');
        sidebarLinks.forEach(function(link) {
          link.addEventListener('click', function() {
            // Small delay to allow navigation
            setTimeout(function() {
              sidebar.classList.remove('show');
              overlay.classList.remove('show');
            }, 200);
          });
        });
      }
    });
  </script>
</body>
</html>
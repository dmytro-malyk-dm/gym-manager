{% extends "base.html" %}
{% block content %}
  <h1>Schedule</h1>
  <table class="table">
    <thead>
      <tr>
        <th>Workout</th>
        <th>Trainer</th>
        <th>Date & Time</th>
        <th>Available</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>

    {% for schedule in schedule_list %}
      <tr>
        <td>{{ schedule.workout.name }}</td>
        <td>{{ schedule.workout.trainer.user.get_full_name}}</td>
        <td>{{ schedule.start_time|date:"d M Y, H:i"  }}</td>
        <td>
          {{ schedule.capacity|add:"-"|add:schedule.bookings.count }} / {{ schedule.capacity }}
        </td>
        <td>
          <a href="{% url 'gym:schedule-detail' pk=schedule.id %}" class="btn btn-primary btn-sm">
            View Details
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5">No upcoming classes.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}